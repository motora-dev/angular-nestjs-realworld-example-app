<div class="flex items-center gap-4">
  <a [routerLink]="['/profile', article().author.username]">
    @if (article().author.image) {
    <img [src]="article().author.image" [alt]="article().author.username" class="h-10 w-10 rounded-full object-cover" />
    } @else {
    <div class="flex h-10 w-10 items-center justify-center rounded-full bg-gray-600">
      <span class="text-sm font-medium text-white">{{ article().author.username.charAt(0).toUpperCase() }}</span>
    </div>
    }
  </a>

  <div class="flex-1">
    <a [routerLink]="['/profile', article().author.username]" class="font-medium text-white hover:underline">
      {{ article().author.username }}
    </a>
    <p class="text-sm text-gray-400">{{ article().createdAt | date: 'mediumDate' }}</p>
  </div>

  @if (canModify()) {
  <div class="flex gap-2">
    <a
      [routerLink]="['/editor', article().slug]"
      class="rounded border border-gray-400 px-3 py-1 text-sm text-gray-300 hover:bg-gray-700"
    >
      {{ 'article.edit' | translate }}
    </a>
    <button
      class="rounded border border-red-500 px-3 py-1 text-sm text-red-500 hover:bg-red-500 hover:text-white disabled:opacity-50"
      [disabled]="isDeleting()"
      (click)="onDelete()"
    >
      {{ 'article.delete' | translate }}
    </button>
  </div>
  } @else {
  <div class="flex gap-2">
    <button
      class="rounded border px-3 py-1 text-sm transition-colors"
      [class.border-emerald-500]="article().favorited"
      [class.bg-emerald-500]="article().favorited"
      [class.text-white]="article().favorited"
      [class.border-gray-400]="!article().favorited"
      [class.text-gray-300]="!article().favorited"
      [class.hover:bg-gray-700]="!article().favorited"
      (click)="onFavorite()"
    >
      ‚ù§ {{ article().favorited ? ('article.unfavorite' | translate) : ('article.favorite' | translate) }} ({{
      article().favoritesCount }})
    </button>
  </div>
  }
</div>
