<form [formGroup]="articleForm" [ngxsForm]="'editor.editorForm'" class="space-y-6" (ngSubmit)="onSubmit()">
  <fieldset [disabled]="isLoading$ | push">
    <div class="space-y-4">
      <div>
        <input
          class="w-full rounded-lg border border-gray-300 px-4 py-3 text-lg focus:border-emerald-500 focus:outline-none"
          formControlName="title"
          type="text"
          i18n-placeholder="@@editor.titlePlaceholder"
          placeholder="Article Title"
        />
      </div>

      <div>
        <input
          class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-emerald-500 focus:outline-none"
          formControlName="description"
          type="text"
          i18n-placeholder="@@editor.descriptionPlaceholder"
          placeholder="What's this article about?"
        />
      </div>

      <div>
        <textarea
          class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-emerald-500 focus:outline-none"
          formControlName="body"
          rows="8"
          i18n-placeholder="@@editor.bodyPlaceholder"
          placeholder="Write your article (in markdown)"
        ></textarea>
      </div>

      <div>
        <input
          class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:border-emerald-500 focus:outline-none"
          type="text"
          i18n-placeholder="@@editor.tagsPlaceholder"
          placeholder="Enter tags"
          [formControl]="tagField"
          (keyup.enter)="addTag(); $event.preventDefault()"
        />
        <div class="mt-2 flex flex-wrap gap-2">
          @for (tag of tagList(); track tag) {
          <span class="flex items-center gap-1 rounded-full bg-gray-600 px-3 py-1 text-sm text-white">
            <button type="button" class="hover:text-red-300" (click)="removeTag(tag)">Ã—</button>
            {{ tag }}
          </span>
          }
        </div>
      </div>

      <div class="flex justify-end">
        <button
          class="rounded-lg bg-emerald-700 px-6 py-3 font-medium text-white hover:bg-emerald-800 disabled:opacity-50"
          type="submit"
          [disabled]="(isLoading$ | push) || (isFormInvalid$ | push)"
          i18n="@@editor.publish"
        >
          Publish Article
        </button>
      </div>
    </div>
  </fieldset>
</form>
